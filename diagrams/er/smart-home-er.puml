@startuml

title Remote manage devices and monitoring telemetry in smart home

top to bottom direction

!includeurl https://raw.githubusercontent.com/RicardoNiepel/C4-PlantUML/master/C4_Component.puml


entity House {
id
--
user_id {FK}
--
address
}

entity User {
id
--
name
email
}

entity Module {
id
--
house_id {FK}
device_type_id {FK}
--
serial_number
title
}

entity DeviceType {
id
--
code
description
}

entity Device {
id
--
module_id {FK}
--
serial_number
status
}

entity Telemetry {
id
--
device_id {FK}
--
datetime
data
}

Telemetry }|-- Device
House }|-- User
Module }|-- House
Module }|-- DeviceType
Device }|-- Module
@enduml
